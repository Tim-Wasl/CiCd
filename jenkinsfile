pipeline {
  agent any
  env.JAVA_HOME="${tool '11.0.12'}"
  env.PATH="${env.JAVA_HOME}/bin:${env.PATH}"

  tools {
    jdk 'openjdk-11'
    maven 'Maven 3.2.5'
  }

  stages {
    stage('Build') {
      steps {
        echo "$PATH"
        bat 'java --version'
        bat 'mvn clean compile'
      }
    }
    stage('Quality Check') {
      steps {
        bat 'mvn verify'
      }
    }
  }
}